(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{211:function(t,s,n){"use strict";n.r(s);var a=n(0),e=Object(a.a)({},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"router"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#router","aria-hidden":"true"}},[t._v("#")]),t._v(" Router")]),t._v(" "),n("p",[t._v("They are based on the same operation as those of "),n("a",{attrs:{href:"https://koajs.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("koa"),n("OutboundLink")],1),t._v(". You can, therefore, if necessary, refer to their documentation.")]),t._v(" "),n("h2",{attrs:{id:"basic-notions"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#basic-notions","aria-hidden":"true"}},[t._v("#")]),t._v(" Basic notions")]),t._v(" "),n("p",[n("strong",[t._v("Router decorator")]),n("br"),t._v(" "),n("strong",[n("code",[t._v("@Router(path: string)")])])]),t._v(" "),n("ul",[n("li",[t._v("He decorates a "),n("strong",[t._v("class")]),t._v(".")]),t._v(" "),n("li",[n("strong",[t._v("Declares the class as a router")]),t._v(", the "),n("code",[t._v("path")]),t._v(" parameter is the "),n("strong",[t._v("router access path")]),t._v(". Which will be accessible according to the parameters you provided in the "),n("router-link",{attrs:{to:"/start/getting-started/#rest-parameters"}},[t._v("start options")]),t._v(" and the value provided to the declaration of endpoints in the class (see below).")],1)]),t._v(" "),n("p",[n("strong",[t._v("Enpoint decorator")]),n("br"),t._v(" "),n("strong",[n("code",[t._v("@Get(endpoint?: string) & @Post & @Put & Delete")])])]),t._v(" "),n("ul",[n("li",[t._v("It decorates a "),n("strong",[t._v("class method")]),t._v(".")]),t._v(" "),n("li",[t._v("Defined by which "),n("strong",[t._v("http method")]),t._v(" (get, post, put, delete) and by which url we will be able to "),n("strong",[t._v("execute the class method")]),t._v("."),n("br"),t._v("\nThe "),n("code",[t._v("endpoint")]),t._v(' parameter that you enter when "decorating" is mounted after the router path, which gives the address: '),n("code",[t._v("http://HOST:PORT/REST_ENDPOINT/ROUTER_PATH/ENDPOINT_VALUE")]),t._v("."),n("br"),t._v("\nProviding the value "),n("code",[t._v('"/"')]),t._v(" or not specifying a value mounts the endpoint to the root of the router path, which gives: "),n("code",[t._v("http://HOST:PORT/REST_ENDPOINT/ROUTER_PATH")]),n("br"),t._v(" "),n("em",[t._v("All capitalized values vary according to your configuration")])])]),t._v(" "),n("p",[n("strong",[t._v("The Context")])]),t._v(" "),n("ul",[n("li",[t._v("The decorated class methods of "),n("strong",[t._v("@Get")]),t._v(", "),n("strong",[t._v("@Post")]),t._v(", "),n("strong",[t._v("@Put")]),t._v(" or "),n("strong",[t._v("@Delete")]),t._v(" receive in "),n("strong",[t._v("first parameter")]),t._v(" a "),n("code",[t._v("Context")]),t._v(" which is equivalent to a "),n("code",[t._v("Context")]),t._v(" of "),n("a",{attrs:{href:"https://koajs.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("koa"),n("OutboundLink")],1),t._v(" and works in the same way, so you can refer to their "),n("a",{attrs:{href:"https://koajs.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("documentation"),n("OutboundLink")],1),t._v(" to know how to use and handle it.")])]),t._v(" "),n("h2",{attrs:{id:"basic-router"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#basic-router","aria-hidden":"true"}},[t._v("#")]),t._v(" Basic router")]),t._v(" "),n("p",[t._v("Here is a simple example of a router with Rakkit.")]),t._v(" "),n("div",{staticClass:"language-typescript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-typescript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Router"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Get"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Put"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Delete"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Context "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rakkit"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Router")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"example"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExampleRouter")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  @"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello world"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  @"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Post")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("post")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Context")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  @"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Put")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Context")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  @"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Delete")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h2",{attrs:{id:"route-merging"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#route-merging","aria-hidden":"true"}},[t._v("#")]),t._v(" Route merging")]),t._v(" "),n("p",[t._v("You can have two "),n("strong",[t._v("class methods")]),t._v(" that have the same "),n("strong",[t._v("http method")]),t._v(" as well as the same "),n("strong",[t._v("endpoint")]),t._v(" in order to chain the executions that are done "),n("strong",[t._v("in the order of declaration of methods in the class")]),t._v("."),n("br"),t._v(" "),n("em",[t._v("Especially useful when coupled with the use of "),n("a",{attrs:{href:"/rest/middlewares"}},[t._v("middlewares")])]),n("br"),t._v("\nTo be able to use this feature you will need to understand how the "),n("router-link",{attrs:{to:"/rest/middlewares/#first-of-all-the-next-function"}},[t._v("next")]),t._v(" function works.")],1),t._v(" "),n("p",[t._v("Roads can be merged this way:")]),t._v(" "),n("div",{staticClass:"language-typescript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-typescript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Router"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Get"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" NextFunction "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rakkit"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Router")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"example"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExampleRouter")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  @"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("first")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" NextFunction")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello "')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  @"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("second")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Context")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"world"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[n("strong",[t._v("Precision on the function "),n("router-link",{attrs:{to:"/rest/middlewares/#first-of-all-the-next-function"}},[t._v("next")])],1),n("br"),t._v("\nHow we can observe it, we "),n("strong",[t._v("just needed to call the function next to the first method")]),t._v(" ("),n("code",[t._v("first")]),t._v(") because we want "),n("strong",[t._v("to go to the second")]),t._v(" "),n("code",[t._v("second")]),t._v(" ."),n("br"),t._v("\nIn this example if the client accesses the route "),n("code",[t._v("http://localhost:4000/rest/example")]),t._v(", he will receive the answer: "),n("code",[t._v("hello world")]),t._v("."),n("br"),t._v("\nMain if the next function had not been called, the client would have just received "),n("code",[t._v("hello")]),t._v(".")])])},[],!1,null,null,null);s.default=e.exports}}]);